@using HW1c.Models;
@model ReportViewModel

@{
    ViewBag.Title = "Accuracy";
}
<br />
<br />
<br />
<br />
<h2>Test Accuracy Report</h2>
<br />
<!--Row 1-->
        
<div class="row">
    <input style="max-width: 400px; text-align: center; margin-left: 20px; margin-bottom: 40px;" type="text" class="daterange" />
</div>

      
        
<!--Row 2-->
<div class="row">
    <div class="col-8">
        <p class="text-center">Accuracy over time</p>
        <!-- Line Chart-->
        <canvas id="AccuracyLineChart" width="400" height="200"></canvas>

        <script>
            var ctx = document.getElementById('AccuracyLineChart');
            var data_total = [0.8, 0.76, 0.83, 0.89, 0.84, 0.93, 0.96];
            var data_A = [0.7, 0.74, 0.72, 0.71, 0.77, 0.78, 0.81];
            var data_B = [0.87, 0.84, 0.86, 0.91, 0.87, 0.95, 0.98];
            var data_C = [0.76, 0.74, 0.71, 0.78, 0.80, 0.89, 0.91];
            var data_D = [0.86, 0.9, 0.92, 0.97, 0.92, 0.98, 0.99];
            var myLineChart = new Chart(ctx, {
                type: 'line',

                data: {
                    labels: ["Day 1", "Day 2", "Day 3", "Day 4", "Day 5", "Day 6", "Day 7"],
                    datasets: [{
                        label: "TOTAL",
                        data: data_total,
                        backgroundColor: [
                            'rgba(51, 153, 255, 0.2)',
                        ],
                        borderColor: [
                            'rgba(0, 10, 130, .7)',
                        ],
                        borderWidth: 2
                    },
                    {
                        label: "Clinic A",
                        data: data_A,
                        backgroundColor: [
                            'rgba(0, 0, 0, 0)',
                        ],
                        borderColor: [
                            'rgba(200, 99, 132, .7)',
                        ],
                        borderWidth: 2
                    },
                    {
                        label: "Clinic B",
                        data: data_B,
                        backgroundColor: [
                            'rgba(0, 0, 0, 0)',
                        ],
                        borderColor: [
                            'rgba(86, 0, 198, 0.6)',
                        ],
                        borderWidth: 2
                    },
                    {
                        label: "Clinic C",
                        data: data_C,
                        backgroundColor: [
                            'rgba(0, 0, 0, 0)',
                        ],
                        borderColor: [
                            'rgba(255, 216, 41, .7)',
                        ],
                        borderWidth: 2
                    },
                    {
                        label: "Clinic D",
                        data: data_D,
                        backgroundColor: [
                            'rgba(0, 0, 0, 0)',
                        ],
                        borderColor: [
                            'rgba(99, 216, 41, .7)',
                        ],
                        borderWidth: 2
                    }
                    ]
                },

            });




            //var AccuracyLineChart = new Chart(ctx, config);
            //var myPieChart = new Chart(pctx, pconfig);


            function clickApply() {
                //$('#title1').html('Number of Uploaded Photos Over Time');
                $('#usageLineChart').show();
                //$('#usageMap').hide();
                var data_total = [0.85, 0.81, 0.89, 0.95, 0.93, 0.96, 0.98];
                var data_A = [0.73, 0.77, 0.73, 0.72, 0.80, 0.82, 0.86];
                var data_B = [0.91, 0.88, 0.92, 0.96, 0.95, 0.98, 0.99];
                var data_C = [0.78, 0.76, 0.77, 0.83, 0.83, 0.93, 0.95];
                var data_D = [0.92, 0.94, 0.95, 0.98, 0.95, 0.99, 1];

                myLineChart.data.datasets[0].data = data_total;
                myLineChart.data.datasets[1].data = data_A;
                myLineChart.data.datasets[2].data = data_B;
                myLineChart.data.datasets[3].data = data_C;
                myLineChart.data.datasets[4].data = data_D;
                // myLineChart.data.labels = chart_labels;
                myLineChart.update();

                //var newpdata = [10, 10, 10, 10];
                // myPieChart.data.labels = pie_labels;
                //myPieChart.data.datasets[0].data = newpdata;
                // myPieChart.update();
            }

            $('#Apply').click(clickApply);

            $('.daterange').daterangepicker({}, clickApply);





        </script>
    </div>



    <div class="col-4">
        <p class="text-center">Accuracy Of This Month </p>
        <br />

        <div align="center">
            <span class="min-chart text-center" id="minChart" data-percent="92"></span>
            <span>92%</span>
        </div>

        <!--<link rel="stylesheet" href="~/Scripts/style.css" />-->

        <script>
            var element = document.querySelector('.min-chart');
            new EasyPieChart(element, {
                size: 220,
                barColor: function (percent) {
                    var ctx = this.renderer.getCtx();
                    var canvas = this.renderer.getCanvas();
                    var gradient = ctx.createLinearGradient(0, 0, canvas.width, 0);
                    gradient.addColorStop(0, "#ffe57e");
                    gradient.addColorStop(1, "#de5900");
                    return gradient;
                },
                onStep: function (from, to, percent) {
                    this.el.children[0].innerHTML = Math.round(percent);
                }
            });

        </script>


    </div>











</div>
<br />

<!--Row 3-->
<div class="row">
    <div class="col-6" align="left">
        <p class="text-center">Clinic comparison</p>
        <!--bar Chart-->
        <div>
            <canvas id="mybarChart"></canvas>
        </div>
        <script>
            var ctx = document.getElementById("mybarChart").getContext('2d');

            var data = [0.95, 0.90, 0.86, 0.81];
            var labels = ["Clinic D", "Clinic B", "Clinic C", "Clinic A"];
            ctx.canvas.width = 500;
            ctx.canvas.height = 450;
            var myBarChart = new Chart(ctx, {
                type: 'horizontalBar',
                data: {
                    labels: labels,
                    datasets: [{
                        label: "Clinic",
                        data: data,
                        backgroundColor: [
                            'rgba(255, 99, 132, 0.2)',
                            'rgba(54, 162, 235, 0.2)',
                            'rgba(255, 206, 86, 0.2)',
                            'rgba(75, 192, 192, 0.2)',
                            'rgba(153, 102, 255, 0.2)'
                        ],
                        borderColor: [
                            'rgba(255,99,132,1)',
                            'rgba(54, 162, 235, 1)',
                            'rgba(255, 206, 86, 1)',
                            'rgba(75, 192, 192, 1)',
                            'rgba(153, 102, 255, 1)'
                        ],
                        borderWidth: 2
                    }]
                },
                options: {
                    responsive: false, // Instruct chart js to respond nicely.
                    maintainAspectRatio: false, // Add to prevent default behaviour of full-width/height
                }
            });
        </script>
    </div>


    <div class="col-6" align="right">
               
        <p class="text-center">App Version comparison</p>
        <canvas id="VersionBarChart"></canvas>
    </div>
    <script>
        var ctx = document.getElementById("VersionBarChart").getContext('2d');
        var data = [0.98, 0.93, 0.89, 0.87, 0.81];
        var labels = ["3.3", "3.0", "2.3", "2.0", "1.0"];
        ctx.canvas.width = 500;
        ctx.canvas.height = 450;
        var myBarChart = new Chart(ctx, {
            type: 'horizontalBar',
            data: {
                labels: labels,
                datasets: [{
                    label: "App version",
                    data: data,
                    backgroundColor: [
                        'rgba(255, 99, 132, 0.2)',
                        'rgba(54, 162, 235, 0.2)',
                        'rgba(255, 206, 86, 0.2)',
                        'rgba(75, 192, 192, 0.2)',
                        'rgba(153, 102, 255, 0.2)'
                    ],
                    borderColor: [
                        'rgba(255,99,132,1)',
                        'rgba(54, 162, 235, 1)',
                        'rgba(255, 206, 86, 1)',
                        'rgba(75, 192, 192, 1)',
                        'rgba(153, 102, 255, 1)'
                    ],
                    borderWidth: 1
                }]
            },
            options: {
                responsive: false, // Instruct chart js to respond nicely.
                maintainAspectRatio: false, // Add to prevent default behaviour of full-width/height
            }
        });
    </script>

</div>
<!--Row 4-->
<div class="row">

</div>
